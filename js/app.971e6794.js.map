{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?9b05","webpack:///./src/App.vue?2aef","webpack:///./src/components/AutoNav.vue?820e","webpack:///src/components/AutoNav.vue","webpack:///./src/components/AutoNav.vue?6056","webpack:///./src/components/AutoNav.vue","webpack:///src/App.vue","webpack:///./src/App.vue?a7d1","webpack:///./src/App.vue","webpack:///./src/main.js","webpack:///./src/components/AutoNav.vue?3e03","webpack:///./src/assets/fix-webm-duration.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","staticRenderFns","_v","creating","staticStyle","domProps","_s","waitTime","vedioWidth","navHeight","staticClass","on","changeBaseColor","model","callback","$$v","baseColor","expression","changeProcessColor","processColor","changeTextColor","textColor","$event","updateCanvas","fontSize","changeBorderColor","borderColor","lineWidth","_l","part","index","changeText","$set","changePartTextColor","getMinitesMin","changeNumber","end","getSecondsMin","arr","deleteOnePart","addOnePart","cancelGetNav","getCanvasNavVedio","component","components","Vue","use","config","productionTip","render","h","App","$mount","definition","define","sections","type","0","doInherit","newClass","baseClass","constructor","WebmBase","WebmUint","padHex","hex","WebmFloat","WebmContainer","WebmFile","source","setSource","updateBySource","updateByData","setData","toString","Uint8Array","substr","parseInt","getValue","setValue","getFloatArrayType","Float32Array","Float64Array","byteArray","reverse","floatArrayType","floatArray","buffer","readByte","offset","readUint","firstByte","bytes","id","len","Math","min","info","ctr","section","idHex","writeUint","x","draft","flag","writeSections","content","contentLength","set","getSectionById","fixDuration","duration","segmentSection","console","log","infoSection","timeScaleSection","durationSection","toBlob","Blob","blob","reader","FileReader","onloadend","file","ex","readAsArrayBuffer"],"mappings":"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,gEAGA,6CACA,8CACA,wCACI,KAAJ,qCACA,4DACA,sCAEA,0EACA,qDACA,gDAEA,KAxBA,WAyBA,OACA,MACA,gBACA,sBACA,mBACA,aACA,gBACA,eACA,oBACA,uBACA,sBACA,oBACA,YACA,YACA,KACA,CACA,YACA,KACA,UACA,YAEA,cAEA,CACA,YACA,KACA,UACA,YAEA,cAEA,CACA,YACA,KACA,UACA,WAEA,eAGA,gBACA,aACA,YACA,WACA,iBACA,cACA,YACA,WACA,YAGA,UACA,WADA,WAEA,4FAGA,SAEA,WAFA,SAEA,GACA,oBAEA,oBALA,SAKA,KACA,qCACA,qBAGA,YAVA,WAYA,8DACA,+CACA,gBACA,4CACA,gEACA,qDACA,2DACA,sBACA,gBACA,wCACA,0CACA,4DACA,sCACA,gDAEA,eA3BA,SA2BA,KAEM,IAAN,yBAEA,oCAEA,QACA,qDACM,KAAN,2BACA,mCACA,4EACA,0EACM,KAAN,sFACM,KAAN,iCACM,KAAN,gDACM,KAAN,iCACM,KAAN,qCACA,sBACA,iDAGA,cAhDA,SAgDA,GACA,cACA,2BAGA,cArDA,SAqDA,GACA,cACA,6EACA,GAGA,cA3DA,SA2DA,GACA,+BAGA,eA/DA,SA+DA,GACA,gDACA,2EAGA,WApEA,WAsEA,kEACA,eACA,QACA,QAEA,oBAGA,cA9EA,SA8EA,GACA,qBACA,oBAGA,aAnFA,SAmFA,GACA,mBAMA,sBAEA,4EACA,8DACA,yBAGA,SAjGA,SAiGA,GAEA,mBAEA,+CAEA,4CACA,kCACA,qBACA,sCACA,uBACA,6BACA,WAGA,gBAhHA,SAgHA,GACA,iBACA,oBAGA,mBArHA,SAqHA,GACA,qBAGA,kBAzHA,SAyHA,GACA,mBACA,oBAEA,gBA7HA,SA6HA,GACA,iBACA,oBAGA,aAlIA,WAmIA,oBAEA,aArIA,WAsIA,eACA,iBACA,0BACA,iBACA,oBACA,yBAGA,kBA9IA,WA8IA,WAEA,oBACA,iBACA,cACA,iEAEA,mCAEA,wBACA,wBAEA,uBACA,0CACA,iCACA,sBAGA,iCACA,0CACA,cACA,KACA,6BACA,mDAE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","file":"js/app.971e6794.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('AutoNav')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h1',[_vm._v(\"一键生成 视频导航素材\")]),(!_vm.creating)?_c('h3',[_vm._v(\"bilibili冬灰条 制作 2020.12.28更新\")]):_c('div',[_c('h3',{staticStyle:{\"color\":\"blue\"}},[_c('span',[_vm._v(\"正在录制生成素材，倒计时\")]),_c('span',{domProps:{\"textContent\":_vm._s(_vm.waitTime)}}),_c('span',[_vm._v(\"秒\")])])]),_c('div',{staticStyle:{\"margin-bottom\":\"30px\"}},[_vm._v(\" 建议使用chrome浏览器，自动下载后，用格式工厂等工具转化成MP4即可拽入剪辑软件，根据视频时长等比例缩放 \")]),_c('canvas',{attrs:{\"id\":\"canvasProcess\",\"width\":_vm.vedioWidth,\"height\":_vm.navHeight}}),_c('div',{staticClass:\"flex justify-center align-center colorItem\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"底部颜色\")]),_c('el-color-picker',{on:{\"active-change\":_vm.changeBaseColor},model:{value:(_vm.baseColor),callback:function ($$v) {_vm.baseColor=$$v},expression:\"baseColor\"}})],1),_c('div',{staticClass:\"flex justify-center align-center colorItem\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"进度颜色\")]),_c('el-color-picker',{on:{\"active-change\":_vm.changeProcessColor},model:{value:(_vm.processColor),callback:function ($$v) {_vm.processColor=$$v},expression:\"processColor\"}})],1),_c('div',{staticClass:\"flex justify-center align-center colorItem\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"文本颜色\")]),_c('el-color-picker',{on:{\"active-change\":_vm.changeTextColor},model:{value:(_vm.textColor),callback:function ($$v) {_vm.textColor=$$v},expression:\"textColor\"}}),_c('div',{staticClass:\"title\",staticStyle:{\"margin-left\":\"30px\"}},[_vm._v(\"文本大小\")]),_c('el-input-number',{attrs:{\"controls-position\":\"right\",\"min\":12,\"max\":45},on:{\"change\":function($event){return _vm.updateCanvas()}},model:{value:(_vm.fontSize),callback:function ($$v) {_vm.fontSize=$$v},expression:\"fontSize\"}})],1),_c('div',{staticClass:\"flex justify-center align-center colorItem\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"边框颜色\")]),_c('el-color-picker',{on:{\"active-change\":_vm.changeBorderColor},model:{value:(_vm.borderColor),callback:function ($$v) {_vm.borderColor=$$v},expression:\"borderColor\"}}),_c('div',{staticClass:\"title\",staticStyle:{\"margin-left\":\"30px\"}},[_vm._v(\"边框宽度\")]),_c('el-input-number',{attrs:{\"controls-position\":\"right\",\"min\":1,\"max\":9},on:{\"change\":function($event){return _vm.updateCanvas()}},model:{value:(_vm.lineWidth),callback:function ($$v) {_vm.lineWidth=$$v},expression:\"lineWidth\"}})],1),_vm._l((_vm.arr),function(part,index){return _c('div',{key:index,staticClass:\"onePart\"},[_c('h3',{domProps:{\"textContent\":_vm._s(index+1)}}),_c('el-input',{staticClass:\"partName\",attrs:{\"placeholder\":\"请输入环节名称  如 : 开头介绍\"},on:{\"input\":function($event){return _vm.changeText(index)}},model:{value:(part.name),callback:function ($$v) {_vm.$set(part, \"name\", $$v)},expression:\"part.name\"}}),_c('el-color-picker',{staticStyle:{\"margin-right\":\"30px\"},on:{\"active-change\":function($event){return _vm.changePartTextColor($event,index)}},model:{value:(part.textColor),callback:function ($$v) {_vm.$set(part, \"textColor\", $$v)},expression:\"part.textColor\"}}),_c('el-input-number',{attrs:{\"controls-position\":\"right\",\"min\":_vm.getMinitesMin(index)},on:{\"change\":function($event){return _vm.changeNumber(index)}},model:{value:(part.end.minites),callback:function ($$v) {_vm.$set(part.end, \"minites\", $$v)},expression:\"part.end.minites\"}}),_c('div',{staticStyle:{\"margin\":\"0 21px\"}},[_vm._v(\"分钟\")]),_c('el-input-number',{attrs:{\"controls-position\":\"right\",\"min\":_vm.getSecondsMin(index),\"max\":60},on:{\"change\":function($event){return _vm.changeNumber(index)}},model:{value:(part.end.seconds),callback:function ($$v) {_vm.$set(part.end, \"seconds\", $$v)},expression:\"part.end.seconds\"}}),_c('div',{staticStyle:{\"margin\":\"0 21px\"}},[_vm._v(\"秒\")]),(!_vm.creating&&_vm.arr.length>1)?_c('i',{staticClass:\"el-icon-delete-solid deleteOnePart\",on:{\"click\":function($event){return _vm.deleteOnePart(index)}}}):_c('div',{staticStyle:{\"width\":\"21px\"}})],1)}),_c('el-button',{attrs:{\"disabled\":_vm.creating},on:{\"click\":_vm.addOnePart}},[_vm._v(\"增加一个环节\")]),_c('div',{staticStyle:{\"margin-top\":\"30px\"}},[(!_vm.creating)?_c('el-button',{attrs:{\"disabled\":_vm.creating,\"type\":\"success\"},on:{\"click\":_vm.getCanvasNavVedio}},[_vm._v(\"一键生成视频导航.mp4\")]):_c('el-button',{attrs:{\"type\":\"danger\"},on:{\"click\":_vm.cancelGetNav}},[_vm._v(\"取消生成\")])],1)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div>\n\t\t<h1>一键生成 视频导航素材</h1>\n\t\t<h3 v-if='!creating'>bilibili冬灰条 制作 2020.12.28更新</h3>\n\t\t<div v-else>\n\t\t\t<h3 style=\"color:blue\">\n\t\t\t\t<span>正在录制生成素材，倒计时</span>\n\t\t\t\t<span v-text=\"waitTime\"></span>\n\t\t\t\t<span>秒</span>\n\t\t\t</h3>\n\t\t</div>\n\t\t<div style=\"margin-bottom:30px\">\n\t\t\t建议使用chrome浏览器，自动下载后，用格式工厂等工具转化成MP4即可拽入剪辑软件，根据视频时长等比例缩放\n\t\t</div>\n\t\t<canvas id=\"canvasProcess\" :width='vedioWidth' :height='navHeight'></canvas>\n\t\t<!-- 底部颜色 -->\n\t\t<div class=\"flex justify-center align-center colorItem\">\n\t\t\t<div class=\"title\">底部颜色</div>\n\t\t\t<el-color-picker v-model=\"baseColor\" @active-change='changeBaseColor'></el-color-picker>\n\t\t</div>\n\t\t<!-- 进度颜色 -->\n\t\t<div class=\"flex justify-center align-center colorItem\">\n\t\t\t<div class=\"title\">进度颜色</div>\n\t\t\t<el-color-picker v-model=\"processColor\" @active-change='changeProcessColor'></el-color-picker>\n\t\t</div>\n\t\t<!-- 文本 -->\n\t\t<div class=\"flex justify-center align-center colorItem\">\n\t\t\t<div class=\"title\">文本颜色</div>\n\t\t\t<el-color-picker v-model=\"textColor\" @active-change='changeTextColor'></el-color-picker>\n\t\t\t<div class=\"title\" style=\"margin-left:30px\">文本大小</div>\n\t\t\t<el-input-number\n\t\t\t\tv-model=\"fontSize\"\n\t\t\t\tcontrols-position=\"right\"\n\t\t\t\t:min=\"12\"\n\t\t\t\t:max=\"45\"\n\t\t\t\t@change=\"updateCanvas()\"\n\t\t\t>\n\t\t\t</el-input-number>\n\t\t</div>\n\t\t<!-- 边框颜色 -->\n\t\t<div class=\"flex justify-center align-center colorItem\">\n\t\t\t<div class=\"title\">边框颜色</div>\n\t\t\t<el-color-picker v-model=\"borderColor\" @active-change='changeBorderColor'></el-color-picker>\n\t\t\t<div class=\"title\" style=\"margin-left:30px\">边框宽度</div>\n\t\t\t<el-input-number\n\t\t\t\tv-model=\"lineWidth\"\n\t\t\t\tcontrols-position=\"right\"\n\t\t\t\t:min=\"1\"\n\t\t\t\t:max=\"9\"\n\t\t\t\t@change=\"updateCanvas()\"\n\t\t\t>\n\t\t\t</el-input-number>\n\t\t</div>\n\t\t<!-- 一个环节 -->\n\t\t<div v-for=\"(part,index) in arr\" :key=\"index\" class=\"onePart\">\n\t\t\t<h3 v-text=\"index+1\"></h3>\n\t\t\t<el-input @input=\"changeText(index)\" v-model=\"part.name\" class=\"partName\" placeholder='请输入环节名称  如 : 开头介绍'></el-input>\n\t\t\t<!-- 文本颜色 -->\n\t\t\t<el-color-picker v-model=\"part.textColor\" @active-change='changePartTextColor($event,index)' style=\"margin-right:30px\"></el-color-picker>\n\t\t\t<!-- 如果是第一个环节，那么最低就是0 -->\n\t\t\t<!-- 如果是第二个环节以上，那么最低就是上一个环节的end的minites -->\n\t\t\t<el-input-number\n\t\t\t\tv-model=\"part.end.minites\"\n\t\t\t\tcontrols-position=\"right\"\n\t\t\t\t:min=\"getMinitesMin(index)\"\n\t\t\t\t@change=\"changeNumber(index)\"\n\t\t\t>\n\t\t\t</el-input-number>\n\t\t\t<div style=\"margin:0 21px;\">分钟</div> \n\t\t\t<!-- 如果是第一个环节，那么最低就是0 -->\n\t\t\t<!-- 如果是第二个环节以上，如果和上一个环节的end的minites相等，那么最低就是上一个环节的seconds -->\n\t\t\t<!-- 如果是第二个环节以上，如果和上一个环节的end的minites不等，那么最低就是0 -->\n\t\t\t<el-input-number\n\t\t\t\tv-model=\"part.end.seconds\"\n\t\t\t\tcontrols-position=\"right\"\n\t\t\t\t:min=\"getSecondsMin(index)\"\n\t\t\t\t:max=\"60\"\n\t\t\t\t@change=\"changeNumber(index)\"\n\t\t\t>\n\t\t\t</el-input-number>\n\t\t\t<div style=\"margin:0 21px;\">秒</div>\n\t\t\t<!-- 删除按钮 -->\n\t\t\t<i v-if=\"!creating&&arr.length>1\" \n\t\t\t   class=\"el-icon-delete-solid deleteOnePart\"\n\t\t\t   @click=\"deleteOnePart(index)\"\n\t\t\t></i>\n\t\t\t<div v-else style=\"width:21px\"></div>\n\t\t</div>\n\t\t<el-button @click=\"addOnePart\" :disabled='creating'>增加一个环节</el-button>\n\t\t<div style=\"margin-top:30px\">\n\t\t\t<el-button v-if=\"!creating\" :disabled='creating' type='success' @click=\"getCanvasNavVedio\">一键生成视频导航.mp4</el-button>\n\t\t\t<el-button v-else type='danger' @click=\"cancelGetNav\">取消生成</el-button>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport ysFixWebmDuration from './../assets/fix-webm-duration'\nexport default {\n\tname: \"HelloWorld\",\n\tmounted(){\n\t\twindow.resizeTo(3000, 600);\n\t\t// 获得背景画布的上下文\n\t\tthis.backgroundCanvas = document.createElement('canvas');\n\t\tthis.backgroundCanvas.width=1920;\n    \tthis.backgroundCanvas.height=54;\n\t\tthis.backgroundCtx = this.backgroundCanvas.getContext(\"2d\");\n\t\tthis.backgroundCtx.fillStyle = this.baseColor;\n\t\tthis.backgroundCtx.fillRect(0,0,this.vedioWidth,this.navHeight);\n\t\t// 获取文字画布的上下文\n\t\t// this.textCanvas = document.createElement('canvas')\n\t\tthis.textCanvas = new OffscreenCanvas(1920,54);\n\t\tthis.textCtx = this.textCanvas.getContext(\"2d\");\n\t\tthis.textCtx.lineWidth = this.lineWidth*2;\n        this.textCtx.strokeStyle = this.borderColor;\n\t\tthis.textCtx.strokeRect(0,0,this.vedioWidth,this.navHeight);\n\t\tthis.drawTextCanvas(this.lineWidth,0);\n\t\t// 获取canvas本体\n\t\tthis.processCtx = document.getElementById(\"canvasProcess\").getContext('2d');\n\t\tthis.processCtx.drawImage(this.backgroundCanvas,0,0);\n\t\tthis.processCtx.drawImage(this.textCanvas,0,0);\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tnum: 0,\n\t\t\ttextCanvas:null,\n\t\t\tbackgroundCanvas:null,\n\t\t\tbackgroundCtx:null,\n\t\t\ttextCtx:null,\n\t\t\tprocessCtx:null,\n\t\t\tstartTime:null,\n\t\t\tbaseColor:'#000000',\n\t\t\tprocessColor:'#00CCFF',\n\t\t\tborderColor:'#409EFF',\n\t\t\ttextColor:'#FFFFFF',\n\t\t\tcreating:false,\n\t\t\tfontSize:30,\n\t\t\tarr:[\n\t\t\t\t{\n\t\t\t\t\tname:'开头介绍',\n\t\t\t\t\tend:{\n\t\t\t\t\t\tminites:0,\n\t\t\t\t\t\tseconds:30\n\t\t\t\t\t},\n\t\t\t\t\ttextColor:''\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname:'中间展示',\n\t\t\t\t\tend:{\n\t\t\t\t\t\tminites:1,\n\t\t\t\t\t\tseconds:30\n\t\t\t\t\t},\n\t\t\t\t\ttextColor:''\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname:'结尾部分',\n\t\t\t\t\tend:{\n\t\t\t\t\t\tminites:2,\n\t\t\t\t\t\tseconds:0\n\t\t\t\t\t},\n\t\t\t\t\ttextColor:''\n\t\t\t\t},\n\t\t\t],\n\t\t\tvedioWidth:1920,\n\t\t\tnavHeight:54,\n\t\t\tlineWidth:3,\n\t\t\twaitTime:0,\n\t\t\tmediaRecord:null,\n\t\t\tvideoUrl:null,\n\t\t\tchunks:null,\n\t\t\ttimer:null,\n\t\t\tcancel:false\n\t\t};\n\t},\n\tcomputed:{\n\t\tallSeconds(){\n\t\t\treturn this.arr[this.arr.length-1].end.minites*60+this.arr[this.arr.length-1].end.seconds\n\t\t},\n\t},\n\tmethods:{\n\t\t// 修改环节名称\n\t\tchangeText(index){\n\t\t\tthis.clearCanvas();\n\t\t},\n\t\tchangePartTextColor(e,index){\n\t\t\tthis.$set(this.arr[index],'textColor',e);\n\t\t\tthis.updateCanvas();\n\t\t},\n\t\t// 清空画布\n\t\tclearCanvas(){\n\t\t\t// 清空画布\n\t\t\tthis.processCtx.clearRect(0,0,this.vedioWidth,this.navHeight)\n\t\t\tlet pCanvas = document.getElementById(\"canvasProcess\");\n\t\t\tpCanvas.width = pCanvas.width\n\t\t\tthis.backgroundCtx.fillStyle = this.baseColor;\n\t\t\tthis.backgroundCtx.fillRect(0,0,this.vedioWidth,this.navHeight);\n\t\t\tthis.processCtx.drawImage(this.backgroundCanvas,0,0);\n\t\t\tthis.textCtx.clearRect(0,0,this.vedioWidth,this.navHeight);\n\t\t\tlet tCanvas = this.textCanvas;\n\t\t\ttCanvas.width = tCanvas.width\n\t\t\tthis.textCtx.lineWidth = this.lineWidth*2;\n\t\t\tthis.textCtx.strokeStyle = this.borderColor;\n\t\t\tthis.textCtx.strokeRect(0,0,this.vedioWidth,this.navHeight);\n\t\t\tthis.drawTextCanvas(this.lineWidth,0);\n\t\t\tthis.processCtx.drawImage(this.textCanvas,0,0);\n\t\t},\n\t\tdrawTextCanvas(startPosition,index){\n\t\t\t// 获取本环节的时长\n            let partSeconds = this.getPartSeconds(index);\n            // 获得本环节该占多少像素\n            let partLength = (partSeconds * this.vedioWidth)/this.allSeconds;\n            // 获得结束时的位置\n\t\t\tlet endPosition = startPosition+partLength+3;\n\t\t\tthis.textCtx.font = `${this.fontSize}px bold`;\n            this.textCtx.textAlign = 'center';\n\t\t\tthis.textCtx.textBaseline = 'middle';\n\t\t\tthis.textCtx.fillStyle =this.arr[index].name==''?this.borderColor:this.textColor;\n\t\t\tif(this.arr[index].textColor!='') this.textCtx.fillStyle = this.arr[index].textColor;\n            this.textCtx.fillText(this.arr[index].name==\"\"?'环节名称':this.arr[index].name,startPosition+(partLength/2), this.navHeight/2);\n            this.textCtx.moveTo(endPosition,this.lineWidth);\n            this.textCtx.lineTo(endPosition,this.navHeight-this.lineWidth);\n            this.textCtx.lineWidth = this.lineWidth;\n            this.textCtx.strokeStyle = this.borderColor;\n\t\t\tthis.textCtx.stroke();\n            if(index<this.arr.length-1) this.drawTextCanvas(endPosition,index+1);\n\t\t},\n\t\t// 获取分钟的最小值\n\t\tgetMinitesMin(index){\n\t\t\tif(index==0) return 0;\n\t\t\treturn this.arr[index-1].end.minites;\n\t\t},\n\t\t// 获取秒的最小值\n\t\tgetSecondsMin(index){\n\t\t\tif(index==0) return 0;\n\t\t\tif(this.arr[index-1].end.minites==this.arr[index].end.minites) return this.arr[index-1].end.seconds;\n\t\t\treturn 0\n\t\t},\n\t\t// 获取时间的时长，单位为秒\n\t\tgetTimeLength(time){\n\t\t\treturn time.minites*60+time.seconds;\n\t\t},\n\t\t// 获取环节时间长度，单位为秒\n\t\tgetPartSeconds(index){\n\t\t\tif(index==0) return this.getTimeLength(this.arr[index].end);\n\t\t\treturn this.getTimeLength(this.arr[index].end)-this.getTimeLength(this.arr[index-1].end);\n\t\t},\n\t\t// 增加一个环节\n\t\taddOnePart(){\n\t\t\t//增加时，复制上一个环节的时间\n\t\t\tlet end = JSON.parse(JSON.stringify(this.arr[this.arr.length-1].end));\n\t\t\tthis.arr.push({\n\t\t\t\tname:'',\n\t\t\t\tend\n\t\t\t});\n\t\t\tthis.clearCanvas();\n\t\t},\n\t\t// 当删除一个环节时\n\t\tdeleteOnePart(index){\n\t\t\tthis.arr.splice(index,1)\n\t\t\tthis.clearCanvas();\n\t\t},\n\t\t// 当修改时间时\n\t\tchangeNumber(index){\n\t\t\tthis.clearCanvas();\n\t\t\t/*\n\t\t\t\t如果修改的不是最后一项\n\t\t\t\t如果这个环节的end比下一个环节的end大\n\t\t\t\t那就直接修改下一个环节的end\n\t\t\t*/\n\t\t\tif(index!=this.arr.length-1\n\t\t\t&&\n\t\t\tthis.getTimeLength(this.arr[index].end)>this.getTimeLength(this.arr[index+1].end)){\n\t\t\t\tthis.arr[index+1].end = JSON.parse(JSON.stringify(this.arr[index].end));\n\t\t\t\tthis.changeNumber(index+1);\n\t\t\t}\n\t\t},\n\t\tdownload(blob){\n\t\t\t// this.mediaRecord.stop() // 结束录屏\n\t\t\tthis.clearCanvas();\n\t\t\t//this.processCtx.drawImage(this.backgroundCanvas,0,0);\n\t\t\tthis.processCtx.drawImage(this.textCanvas,0,0);\n\t\t\t// const videoBlob = new Blob(this.chunks, { 'type': 'video/mp4' })   // 创建视频文件\n\t\t\tthis.videoUrl = window.URL.createObjectURL(blob)    // 创建对象链接\n\t\t\tlet a = document.createElement('a')\n\t\t\ta.href = this.videoUrl\n\t\t\ta.download = '视频导航条(请用格式工厂转化成mp4).webm'\n\t\t\ta.style.display = 'none'\n\t\t\tdocument.body.appendChild(a)\n\t\t\ta.click()\n\t\t},\n\t\t// 修改背景底色\n\t\tchangeBaseColor(e){\n\t\t\tthis.baseColor = e;\n\t\t\tthis.clearCanvas();\n\t\t},\n\t\t// 修改进度颜色\n\t\tchangeProcessColor(e){\n\t\t\tthis.processColor = e;\n\t\t},\n\t\t// 修改边框颜色\n\t\tchangeBorderColor(e){\n\t\t\tthis.borderColor = e;\n\t\t\tthis.clearCanvas();\n\t\t},\n\t\tchangeTextColor(e){\n\t\t\tthis.textColor = e;\n\t\t\tthis.clearCanvas();\n\t\t},\n\t\t// 修改边框宽度\n\t\tupdateCanvas(){\n\t\t\tthis.clearCanvas();\n\t\t},\n\t\tcancelGetNav(){\n\t\t\tthis.cancel = true;\n\t\t\tthis.waitTime = 10;\n\t\t\tclearInterval(this.timer);\n\t\t\tthis.creating = false;\n\t\t\tthis.updateCanvas();\n\t\t\tthis.mediaRecord.stop()\n\t\t},\n\t\t//当生成素材时\n\t\tgetCanvasNavVedio(){\n\t\t\t// 开头这部分是直接从网上抄的代码\n\t\t\tthis.chunks = new Set() // 先准备个容器保存canvas来的图像流\n\t\t\tlet createRecord = ()=>{\n\t\t\t\tthis.creating = true;\n\t\t\t\tconst processMediaStream = document.querySelector('#canvasProcess').captureStream(48) \n\t\t\t\t// 获取画布canvasElement并设置帧频率(FPS)\n\t\t\t\tthis.mediaRecord = new MediaRecorder(processMediaStream, {   \n\t\t\t\t\t// 核心API，可以录制canvas, audio, video代码下方提供文档链接\n\t\t\t\t\tvideoBitsPerSecond: 850000,\n\t\t\t\t\tmimeType: \"video/webm\"\n\t\t\t\t})\n\t\t\t\tthis.mediaRecord.blobs = [];\n\t\t\t\tthis.mediaRecord.ondataavailable = (e) => { // 接收数据\n\t\t\t\t\tthis.mediaRecord.blobs.push(e.data);\n\t\t\t\t\tthis.chunks.add(e.data)\n\t\t\t\t\t// this.chunks.push(e.data);\n\t\t\t\t}\n\t\t\t\tthis.mediaRecord.onstop = (e)=>{\n\t\t\t\t\tif(this.cancel) return setTimeout(() => {\n\t\t\t\t\t\tthis.cancel = false;\n\t\t\t\t\t}, 500); \n\t\t\t\t\tlet duration = Date.now() - this.startTime;//停止录制时候 用当前时间减去开始录制的时间\n\t\t\t\t\tlet tmpBlob = new Blob(this.chunks, { 'type':this.mediaRecord.mimeType});\n\t\t\t\t\t//调用设置时长代码。该函数基于fix-webm-duration.js\n\t\t\t\t\tysFixWebmDuration(tmpBlob, duration, (fixedBlob)=>{\n\t\t\t\t\t\tthis.download(fixedBlob)\n\t\t\t\t\t});\n\t\t\t\t};\n\t\t\t\tthis.mediaRecord.start(100)  // 开始录屏,参数为抓取间隔100毫秒\n\t\t\t\tthis.startTime = Date.now();\n\t\t\t\twindow.requestAnimationFrame(drawStep);\n\t\t\t};\n\t\t\t// 以下是自己写的代码\n\t\t\t// 总时长\n\t\t\t// let timeMax = this.allSeconds*1000;\n\t\t\tlet timeMax = 10000;\n\t\t\t// 多少毫秒变化一次\n\t\t\tlet eachStepTime = 20\n\t\t\t// 每次改变进度条的像素\n\t\t\tlet step = (this.vedioWidth-this.lineWidth)/(timeMax/eachStepTime);\n            // 改变进度条的次数\n\t\t\tlet process = 0;\n\t\n\t\t\tlet height = this.navHeight;\n\t\t\tlet videoWidth = this.vedioWidth;\n\t\t\tlet changeWidth = step;\n\n\t\t\tlet drawStep = (timestamp)=>{\n\t\t\t\tif(this.cancel) return;\n\t\t\t\t// 先绘制进度\n\t\t\t\tthis.processCtx.fillStyle = this.processColor;\n\t\t\t\tthis.processCtx.fillRect(this.lineWidth,this.lineWidth,changeWidth,54-(this.lineWidth*2));\n\t\t\t\t// 然后把分割线与文字画到进度条上\n\t\t\t\tthis.processCtx.drawImage(this.textCanvas,0,0)\n\t\t\t\t// 改变次数增加，等待下一次绘制进度\n\t\t\t\tprocess++;\n\t\t\t\tif(changeWidth>videoWidth){\n\t\t\t\t\t// this.download();\n\t\t\t\t\tthis.mediaRecord.stop() // 结束录屏\n\t\t\t\t\tclearInterval(this.timer);\n\t\t\t\t\tthis.creating = false;\n\t\t\t\t}else{\n\t\t\t\t\tchangeWidth+=step;\n\t\t\t\t\twindow.requestAnimationFrame(drawStep);\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.waitTime = 10;\n\t\t\tthis.timer = setInterval(()=>{\n\t\t\t\tthis.waitTime--;\n\t\t\t},1000)\n\t\t\t// 清空textCanvas后开始录制\n\t\t\tthis.processCtx.clearRect(0,0,this.vedioWidth,this.navHeight)\n\t\t\tlet pCanvas = document.getElementById(\"canvasProcess\");\n\t\t\tpCanvas.width = pCanvas.width\n\t\t\tthis.backgroundCtx.fillStyle = this.baseColor;\n\t\t\tthis.backgroundCtx.fillRect(0,0,this.vedioWidth,this.navHeight);\n\t\t\tthis.processCtx.drawImage(this.backgroundCanvas,0,0);\n\t\t\tcreateRecord();\n\t\t},  \n\t}\n};\n</script>\n\n<style scoped>\n.title{\n\tfont-weight: bold;\n\tmargin-right: 10px;\n}\n#canvasProcess{\n\tmargin-bottom: 30px;\n}\n.onePart{\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tmargin-bottom: 30px;\n}\n.partName{\n\twidth: 240px;\n\tmargin-left: 30px;\n}\n.deleteOnePart{\n\tcursor: pointer;\n\tcolor: red;\n\tfont-size: 21px;\n}\n.colorItem{\n\tmargin-bottom: 30px;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AutoNav.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AutoNav.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AutoNav.vue?vue&type=template&id=5efb1488&scoped=true&\"\nimport script from \"./AutoNav.vue?vue&type=script&lang=js&\"\nexport * from \"./AutoNav.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AutoNav.vue?vue&type=style&index=0&id=5efb1488&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5efb1488\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"app\">\n    <AutoNav/>\n  </div>\n</template>\n\n<script>\nimport AutoNav from './components/AutoNav.vue'\n\nexport default {\n  name: 'App',\n  components: {\n     AutoNav\n  }\n}\n</script>\n\n<style>\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 60px;\n}\n.flex{\n  display: flex;\n}\n.justify-center{\n  justify-content: center;\n}\n.align-center{\n  align-items: center;\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=6410bb97&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport App from './App.vue'\nimport { Button, Select, Input, InputNumber,Icon,ColorPicker} from 'element-ui';\nVue.use(Button);\nVue.use(Select);\nVue.use(Input);\nVue.use(InputNumber);\nVue.use(Icon);\nVue.use(ColorPicker)\nVue.config.productionTip = false\n\nnew Vue({\n  render: h => h(App),\n}).$mount('#app')\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AutoNav.vue?vue&type=style&index=0&id=5efb1488&scoped=true&lang=css&\"","(function (name, definition) {\n    if (typeof define === 'function' && define.amd) { // RequireJS / AMD\n        define(definition);\n    } else if (typeof module !== 'undefined' && module.exports) { // CommonJS / Node.js\n        module.exports = definition();\n    } else { // Direct include\n        window.ysFixWebmDuration = definition();\n    }\n})('fix-webm-duration', function () {\n    /*\n     * This is the list of possible WEBM file sections by their IDs.\n     * Possible types: Container, Binary, Uint, Int, String, Float, Date\n     */\n    var sections = {\n        0xa45dfa3: { name: 'EBML', type: 'Container' },\n        0x286: { name: 'EBMLVersion', type: 'Uint' },\n        0x2f7: { name: 'EBMLReadVersion', type: 'Uint' },\n        0x2f2: { name: 'EBMLMaxIDLength', type: 'Uint' },\n        0x2f3: { name: 'EBMLMaxSizeLength', type: 'Uint' },\n        0x282: { name: 'DocType', type: 'String' },\n        0x287: { name: 'DocTypeVersion', type: 'Uint' },\n        0x285: { name: 'DocTypeReadVersion', type: 'Uint' },\n        0x6c: { name: 'Void', type: 'Binary' },\n        0x3f: { name: 'CRC-32', type: 'Binary' },\n        0xb538667: { name: 'SignatureSlot', type: 'Container' },\n        0x3e8a: { name: 'SignatureAlgo', type: 'Uint' },\n        0x3e9a: { name: 'SignatureHash', type: 'Uint' },\n        0x3ea5: { name: 'SignaturePublicKey', type: 'Binary' },\n        0x3eb5: { name: 'Signature', type: 'Binary' },\n        0x3e5b: { name: 'SignatureElements', type: 'Container' },\n        0x3e7b: { name: 'SignatureElementList', type: 'Container' },\n        0x2532: { name: 'SignedElement', type: 'Binary' },\n        0x8538067: { name: 'Segment', type: 'Container' },\n        0x14d9b74: { name: 'SeekHead', type: 'Container' },\n        0xdbb: { name: 'Seek', type: 'Container' },\n        0x13ab: { name: 'SeekID', type: 'Binary' },\n        0x13ac: { name: 'SeekPosition', type: 'Uint' },\n        0x549a966: { name: 'Info', type: 'Container' },\n        0x33a4: { name: 'SegmentUID', type: 'Binary' },\n        0x3384: { name: 'SegmentFilename', type: 'String' },\n        0x1cb923: { name: 'PrevUID', type: 'Binary' },\n        0x1c83ab: { name: 'PrevFilename', type: 'String' },\n        0x1eb923: { name: 'NextUID', type: 'Binary' },\n        0x1e83bb: { name: 'NextFilename', type: 'String' },\n        0x444: { name: 'SegmentFamily', type: 'Binary' },\n        0x2924: { name: 'ChapterTranslate', type: 'Container' },\n        0x29fc: { name: 'ChapterTranslateEditionUID', type: 'Uint' },\n        0x29bf: { name: 'ChapterTranslateCodec', type: 'Uint' },\n        0x29a5: { name: 'ChapterTranslateID', type: 'Binary' },\n        0xad7b1: { name: 'TimecodeScale', type: 'Uint' },\n        0x489: { name: 'Duration', type: 'Float' },\n        0x461: { name: 'DateUTC', type: 'Date' },\n        0x3ba9: { name: 'Title', type: 'String' },\n        0xd80: { name: 'MuxingApp', type: 'String' },\n        0x1741: { name: 'WritingApp', type: 'String' },\n        // 0xf43b675: { name: 'Cluster', type: 'Container' },\n        0x67: { name: 'Timecode', type: 'Uint' },\n        0x1854: { name: 'SilentTracks', type: 'Container' },\n        0x18d7: { name: 'SilentTrackNumber', type: 'Uint' },\n        0x27: { name: 'Position', type: 'Uint' },\n        0x2b: { name: 'PrevSize', type: 'Uint' },\n        0x23: { name: 'SimpleBlock', type: 'Binary' },\n        0x20: { name: 'BlockGroup', type: 'Container' },\n        0x21: { name: 'Block', type: 'Binary' },\n        0x22: { name: 'BlockVirtual', type: 'Binary' },\n        0x35a1: { name: 'BlockAdditions', type: 'Container' },\n        0x26: { name: 'BlockMore', type: 'Container' },\n        0x6e: { name: 'BlockAddID', type: 'Uint' },\n        0x25: { name: 'BlockAdditional', type: 'Binary' },\n        0x1b: { name: 'BlockDuration', type: 'Uint' },\n        0x7a: { name: 'ReferencePriority', type: 'Uint' },\n        0x7b: { name: 'ReferenceBlock', type: 'Int' },\n        0x7d: { name: 'ReferenceVirtual', type: 'Int' },\n        0x24: { name: 'CodecState', type: 'Binary' },\n        0x35a2: { name: 'DiscardPadding', type: 'Int' },\n        0xe: { name: 'Slices', type: 'Container' },\n        0x68: { name: 'TimeSlice', type: 'Container' },\n        0x4c: { name: 'LaceNumber', type: 'Uint' },\n        0x4d: { name: 'FrameNumber', type: 'Uint' },\n        0x4b: { name: 'BlockAdditionID', type: 'Uint' },\n        0x4e: { name: 'Delay', type: 'Uint' },\n        0x4f: { name: 'SliceDuration', type: 'Uint' },\n        0x48: { name: 'ReferenceFrame', type: 'Container' },\n        0x49: { name: 'ReferenceOffset', type: 'Uint' },\n        0x4a: { name: 'ReferenceTimeCode', type: 'Uint' },\n        0x2f: { name: 'EncryptedBlock', type: 'Binary' },\n        0x654ae6b: { name: 'Tracks', type: 'Container' },\n        0x2e: { name: 'TrackEntry', type: 'Container' },\n        0x57: { name: 'TrackNumber', type: 'Uint' },\n        0x33c5: { name: 'TrackUID', type: 'Uint' },\n        0x3: { name: 'TrackType', type: 'Uint' },\n        0x39: { name: 'FlagEnabled', type: 'Uint' },\n        0x8: { name: 'FlagDefault', type: 'Uint' },\n        0x15aa: { name: 'FlagForced', type: 'Uint' },\n        0x1c: { name: 'FlagLacing', type: 'Uint' },\n        0x2de7: { name: 'MinCache', type: 'Uint' },\n        0x2df8: { name: 'MaxCache', type: 'Uint' },\n        0x3e383: { name: 'DefaultDuration', type: 'Uint' },\n        0x34e7a: { name: 'DefaultDecodedFieldDuration', type: 'Uint' },\n        0x3314f: { name: 'TrackTimecodeScale', type: 'Float' },\n        0x137f: { name: 'TrackOffset', type: 'Int' },\n        0x15ee: { name: 'MaxBlockAdditionID', type: 'Uint' },\n        0x136e: { name: 'Name', type: 'String' },\n        0x2b59c: { name: 'Language', type: 'String' },\n        0x6: { name: 'CodecID', type: 'String' },\n        0x23a2: { name: 'CodecPrivate', type: 'Binary' },\n        0x58688: { name: 'CodecName', type: 'String' },\n        0x3446: { name: 'AttachmentLink', type: 'Uint' },\n        0x1a9697: { name: 'CodecSettings', type: 'String' },\n        0x1b4040: { name: 'CodecInfoURL', type: 'String' },\n        0x6b240: { name: 'CodecDownloadURL', type: 'String' },\n        0x2a: { name: 'CodecDecodeAll', type: 'Uint' },\n        0x2fab: { name: 'TrackOverlay', type: 'Uint' },\n        0x16aa: { name: 'CodecDelay', type: 'Uint' },\n        0x16bb: { name: 'SeekPreRoll', type: 'Uint' },\n        0x2624: { name: 'TrackTranslate', type: 'Container' },\n        0x26fc: { name: 'TrackTranslateEditionUID', type: 'Uint' },\n        0x26bf: { name: 'TrackTranslateCodec', type: 'Uint' },\n        0x26a5: { name: 'TrackTranslateTrackID', type: 'Binary' },\n        0x60: { name: 'Video', type: 'Container' },\n        0x1a: { name: 'FlagInterlaced', type: 'Uint' },\n        0x13b8: { name: 'StereoMode', type: 'Uint' },\n        0x13c0: { name: 'AlphaMode', type: 'Uint' },\n        0x13b9: { name: 'OldStereoMode', type: 'Uint' },\n        0x30: { name: 'PixelWidth', type: 'Uint' },\n        0x3a: { name: 'PixelHeight', type: 'Uint' },\n        0x14aa: { name: 'PixelCropBottom', type: 'Uint' },\n        0x14bb: { name: 'PixelCropTop', type: 'Uint' },\n        0x14cc: { name: 'PixelCropLeft', type: 'Uint' },\n        0x14dd: { name: 'PixelCropRight', type: 'Uint' },\n        0x14b0: { name: 'DisplayWidth', type: 'Uint' },\n        0x14ba: { name: 'DisplayHeight', type: 'Uint' },\n        0x14b2: { name: 'DisplayUnit', type: 'Uint' },\n        0x14b3: { name: 'AspectRatioType', type: 'Uint' },\n        0xeb524: { name: 'ColourSpace', type: 'Binary' },\n        0xfb523: { name: 'GammaValue', type: 'Float' },\n        0x383e3: { name: 'FrameRate', type: 'Float' },\n        0x61: { name: 'Audio', type: 'Container' },\n        0x35: { name: 'SamplingFrequency', type: 'Float' },\n        0x38b5: { name: 'OutputSamplingFrequency', type: 'Float' },\n        0x1f: { name: 'Channels', type: 'Uint' },\n        0x3d7b: { name: 'ChannelPositions', type: 'Binary' },\n        0x2264: { name: 'BitDepth', type: 'Uint' },\n        0x62: { name: 'TrackOperation', type: 'Container' },\n        0x63: { name: 'TrackCombinePlanes', type: 'Container' },\n        0x64: { name: 'TrackPlane', type: 'Container' },\n        0x65: { name: 'TrackPlaneUID', type: 'Uint' },\n        0x66: { name: 'TrackPlaneType', type: 'Uint' },\n        0x69: { name: 'TrackJoinBlocks', type: 'Container' },\n        0x6d: { name: 'TrackJoinUID', type: 'Uint' },\n        0x40: { name: 'TrickTrackUID', type: 'Uint' },\n        0x41: { name: 'TrickTrackSegmentUID', type: 'Binary' },\n        0x46: { name: 'TrickTrackFlag', type: 'Uint' },\n        0x47: { name: 'TrickMasterTrackUID', type: 'Uint' },\n        0x44: { name: 'TrickMasterTrackSegmentUID', type: 'Binary' },\n        0x2d80: { name: 'ContentEncodings', type: 'Container' },\n        0x2240: { name: 'ContentEncoding', type: 'Container' },\n        0x1031: { name: 'ContentEncodingOrder', type: 'Uint' },\n        0x1032: { name: 'ContentEncodingScope', type: 'Uint' },\n        0x1033: { name: 'ContentEncodingType', type: 'Uint' },\n        0x1034: { name: 'ContentCompression', type: 'Container' },\n        0x254: { name: 'ContentCompAlgo', type: 'Uint' },\n        0x255: { name: 'ContentCompSettings', type: 'Binary' },\n        0x1035: { name: 'ContentEncryption', type: 'Container' },\n        0x7e1: { name: 'ContentEncAlgo', type: 'Uint' },\n        0x7e2: { name: 'ContentEncKeyID', type: 'Binary' },\n        0x7e3: { name: 'ContentSignature', type: 'Binary' },\n        0x7e4: { name: 'ContentSigKeyID', type: 'Binary' },\n        0x7e5: { name: 'ContentSigAlgo', type: 'Uint' },\n        0x7e6: { name: 'ContentSigHashAlgo', type: 'Uint' },\n        0xc53bb6b: { name: 'Cues', type: 'Container' },\n        0x3b: { name: 'CuePoint', type: 'Container' },\n        0x33: { name: 'CueTime', type: 'Uint' },\n        0x37: { name: 'CueTrackPositions', type: 'Container' },\n        0x77: { name: 'CueTrack', type: 'Uint' },\n        0x71: { name: 'CueClusterPosition', type: 'Uint' },\n        0x70: { name: 'CueRelativePosition', type: 'Uint' },\n        0x32: { name: 'CueDuration', type: 'Uint' },\n        0x1378: { name: 'CueBlockNumber', type: 'Uint' },\n        0x6a: { name: 'CueCodecState', type: 'Uint' },\n        0x5b: { name: 'CueReference', type: 'Container' },\n        0x16: { name: 'CueRefTime', type: 'Uint' },\n        0x17: { name: 'CueRefCluster', type: 'Uint' },\n        0x135f: { name: 'CueRefNumber', type: 'Uint' },\n        0x6b: { name: 'CueRefCodecState', type: 'Uint' },\n        0x941a469: { name: 'Attachments', type: 'Container' },\n        0x21a7: { name: 'AttachedFile', type: 'Container' },\n        0x67e: { name: 'FileDescription', type: 'String' },\n        0x66e: { name: 'FileName', type: 'String' },\n        0x660: { name: 'FileMimeType', type: 'String' },\n        0x65c: { name: 'FileData', type: 'Binary' },\n        0x6ae: { name: 'FileUID', type: 'Uint' },\n        0x675: { name: 'FileReferral', type: 'Binary' },\n        0x661: { name: 'FileUsedStartTime', type: 'Uint' },\n        0x662: { name: 'FileUsedEndTime', type: 'Uint' },\n        0x43a770: { name: 'Chapters', type: 'Container' },\n        0x5b9: { name: 'EditionEntry', type: 'Container' },\n        0x5bc: { name: 'EditionUID', type: 'Uint' },\n        0x5bd: { name: 'EditionFlagHidden', type: 'Uint' },\n        0x5db: { name: 'EditionFlagDefault', type: 'Uint' },\n        0x5dd: { name: 'EditionFlagOrdered', type: 'Uint' },\n        0x36: { name: 'ChapterAtom', type: 'Container' },\n        0x33c4: { name: 'ChapterUID', type: 'Uint' },\n        0x1654: { name: 'ChapterStringUID', type: 'String' },\n        0x11: { name: 'ChapterTimeStart', type: 'Uint' },\n        0x12: { name: 'ChapterTimeEnd', type: 'Uint' },\n        0x18: { name: 'ChapterFlagHidden', type: 'Uint' },\n        0x598: { name: 'ChapterFlagEnabled', type: 'Uint' },\n        0x2e67: { name: 'ChapterSegmentUID', type: 'Binary' },\n        0x2ebc: { name: 'ChapterSegmentEditionUID', type: 'Uint' },\n        0x23c3: { name: 'ChapterPhysicalEquiv', type: 'Uint' },\n        0xf: { name: 'ChapterTrack', type: 'Container' },\n        0x9: { name: 'ChapterTrackNumber', type: 'Uint' },\n        0x0: { name: 'ChapterDisplay', type: 'Container' },\n        0x5: { name: 'ChapString', type: 'String' },\n        0x37c: { name: 'ChapLanguage', type: 'String' },\n        0x37e: { name: 'ChapCountry', type: 'String' },\n        0x2944: { name: 'ChapProcess', type: 'Container' },\n        0x2955: { name: 'ChapProcessCodecID', type: 'Uint' },\n        0x50d: { name: 'ChapProcessPrivate', type: 'Binary' },\n        0x2911: { name: 'ChapProcessCommand', type: 'Container' },\n        0x2922: { name: 'ChapProcessTime', type: 'Uint' },\n        0x2933: { name: 'ChapProcessData', type: 'Binary' },\n        0x254c367: { name: 'Tags', type: 'Container' },\n        0x3373: { name: 'Tag', type: 'Container' },\n        0x23c0: { name: 'Targets', type: 'Container' },\n        0x28ca: { name: 'TargetTypeValue', type: 'Uint' },\n        0x23ca: { name: 'TargetType', type: 'String' },\n        0x23c5: { name: 'TagTrackUID', type: 'Uint' },\n        0x23c9: { name: 'TagEditionUID', type: 'Uint' },\n        0x23c4: { name: 'TagChapterUID', type: 'Uint' },\n        0x23c6: { name: 'TagAttachmentUID', type: 'Uint' },\n        0x27c8: { name: 'SimpleTag', type: 'Container' },\n        0x5a3: { name: 'TagName', type: 'String' },\n        0x47a: { name: 'TagLanguage', type: 'String' },\n        0x484: { name: 'TagDefault', type: 'Uint' },\n        0x487: { name: 'TagString', type: 'String' },\n        0x485: { name: 'TagBinary', type: 'Binary' }\n    };\n\n    function doInherit(newClass, baseClass) {\n        newClass.prototype = Object.create(baseClass.prototype);\n        newClass.prototype.constructor = newClass;\n    }\n\n    function WebmBase(name, type) {\n        this.name = name || 'Unknown';\n        this.type = type || 'Unknown';\n    }\n    WebmBase.prototype.updateBySource = function() { };\n    WebmBase.prototype.setSource = function(source) {\n        this.source = source;\n        this.updateBySource();\n    };\n    WebmBase.prototype.updateByData = function() { };\n    WebmBase.prototype.setData = function(data) {\n        this.data = data;\n        this.updateByData();\n    };\n\n    function WebmUint(name, type) {\n        WebmBase.call(this, name, type || 'Uint');\n    }\n    doInherit(WebmUint, WebmBase);\n    function padHex(hex) {\n        return hex.length % 2 === 1 ? '0' + hex : hex;\n    }\n    WebmUint.prototype.updateBySource = function() {\n        // use hex representation of a number instead of number value\n        this.data = '';\n        for (var i = 0; i < this.source.length; i++) {\n            var hex = this.source[i].toString(16);\n            this.data += padHex(hex);\n        }\n    };\n    WebmUint.prototype.updateByData = function() {\n        var length = this.data.length / 2;\n        this.source = new Uint8Array(length);\n        for (var i = 0; i < length; i++) {\n            var hex = this.data.substr(i * 2, 2);\n            this.source[i] = parseInt(hex, 16);\n        }\n    };\n    WebmUint.prototype.getValue = function() {\n        return parseInt(this.data, 16);\n    };\n    WebmUint.prototype.setValue = function(value) {\n        this.setData(padHex(value.toString(16)));\n    };\n\n    function WebmFloat(name, type) {\n        WebmBase.call(this, name, type || 'Float');\n    }\n    doInherit(WebmFloat, WebmBase);\n    WebmFloat.prototype.getFloatArrayType = function() {\n        return this.source && this.source.length === 4 ? Float32Array : Float64Array;\n    };\n    WebmFloat.prototype.updateBySource = function() {\n        var byteArray = this.source.reverse();\n        var floatArrayType = this.getFloatArrayType();\n        var floatArray = new floatArrayType(byteArray.buffer);\n        this.data = floatArray[0];\n    };\n    WebmFloat.prototype.updateByData = function() {\n        var floatArrayType = this.getFloatArrayType();\n        var floatArray = new floatArrayType([ this.data ]);\n        var byteArray = new Uint8Array(floatArray.buffer);\n        this.source = byteArray.reverse();\n    };\n    WebmFloat.prototype.getValue = function() {\n        return this.data;\n    };\n    WebmFloat.prototype.setValue = function(value) {\n        this.setData(value);\n    };\n\n    function WebmContainer(name, type) {\n        WebmBase.call(this, name, type || 'Container');\n    }\n    doInherit(WebmContainer, WebmBase);\n    WebmContainer.prototype.readByte = function() {\n        return this.source[this.offset++];\n    };\n    WebmContainer.prototype.readUint = function() {\n        var firstByte = this.readByte();\n        var bytes = 8 - firstByte.toString(2).length;\n        var value = firstByte - (1 << (7 - bytes));\n        for (var i = 0; i < bytes; i++) {\n            // don't use bit operators to support x86\n            value *= 256;\n            value += this.readByte();\n        }\n        return value;\n    };\n    WebmContainer.prototype.updateBySource = function() {\n        this.data = [];\n        for (this.offset = 0; this.offset < this.source.length; this.offset = end) {\n            var id = this.readUint();\n            var len = this.readUint();\n            var end = Math.min(this.offset + len, this.source.length);\n            var data = this.source.slice(this.offset, end);\n\n            var info = sections[id] || { name: 'Unknown', type: 'Unknown' };\n            var ctr = WebmBase;\n            switch (info.type) {\n                case 'Container':\n                    ctr = WebmContainer;\n                    break;\n                case 'Uint':\n                    ctr = WebmUint;\n                    break;\n                case 'Float':\n                    ctr = WebmFloat;\n                    break;\n            }\n            var section = new ctr(info.name, info.type);\n            section.setSource(data);\n            this.data.push({\n                id: id,\n                idHex: id.toString(16),\n                data: section\n            });\n        }\n    };\n    WebmContainer.prototype.writeUint = function(x, draft) {\n        for (var bytes = 1, flag = 0x80; x >= flag && bytes < 8; bytes++, flag *= 0x80) { }\n\n        if (!draft) {\n            var value = flag + x;\n            for (var i = bytes - 1; i >= 0; i--) {\n                // don't use bit operators to support x86\n                var c = value % 256;\n                this.source[this.offset + i] = c;\n                value = (value - c) / 256;\n            }\n        }\n\n        this.offset += bytes;\n    };\n    WebmContainer.prototype.writeSections = function(draft) {\n        this.offset = 0;\n        for (var i = 0; i < this.data.length; i++) {\n            var section = this.data[i],\n                content = section.data.source,\n                contentLength = content.length;\n            this.writeUint(section.id, draft);\n            this.writeUint(contentLength, draft);\n            if (!draft) {\n                this.source.set(content, this.offset);\n            }\n            this.offset += contentLength;\n        }\n        return this.offset;\n    };\n    WebmContainer.prototype.updateByData = function() {\n        // run without accessing this.source to determine total length - need to know it to create Uint8Array\n        var length = this.writeSections('draft');\n        this.source = new Uint8Array(length);\n        // now really write data\n        this.writeSections();\n    };\n    WebmContainer.prototype.getSectionById = function(id) {\n        for (var i = 0; i < this.data.length; i++) {\n            var section = this.data[i];\n            if (section.id === id) {\n                return section.data;\n            }\n        }\n        return null;\n    };\n\n    function WebmFile(source) {\n        WebmContainer.call(this, 'File', 'File');\n        this.setSource(source);\n    }\n    doInherit(WebmFile, WebmContainer);\n    WebmFile.prototype.fixDuration = function(duration) {\n        var segmentSection = this.getSectionById(0x8538067);\n        if (!segmentSection) {\n            console.log('[fix-webm-duration] Segment section is missing');\n            return false;\n        }\n\n        var infoSection = segmentSection.getSectionById(0x549a966);\n        if (!infoSection) {\n            console.log('[fix-webm-duration] Info section is missing');\n            return false;\n        }\n\n        var timeScaleSection = infoSection.getSectionById(0xad7b1);\n        if (!timeScaleSection) {\n            console.log('[fix-webm-duration] TimecodeScale section is missing');\n            return false;\n        }\n\n        var durationSection = infoSection.getSectionById(0x489);\n        if (durationSection) {\n            if (durationSection.getValue() <= 0) {\n                console.log('[fix-webm-duration] Duration section is present, but the value is empty');\n                durationSection.setValue(duration);\n            } else {\n                console.log('[fix-webm-duration] Duration section is present');\n                return false;\n            }\n        } else {\n            console.log('[fix-webm-duration] Duration section is missing');\n            // append Duration section\n            durationSection = new WebmFloat('Duration', 'Float');\n            durationSection.setValue(duration);\n            infoSection.data.push({\n                id: 0x489,\n                data: durationSection\n            });\n        }\n\n        // set default time scale to 1 millisecond (1000000 nanoseconds)\n        timeScaleSection.setValue(1000000);\n        infoSection.updateByData();\n        segmentSection.updateByData();\n        this.updateByData();\n\n        return true;\n    };\n    WebmFile.prototype.toBlob = function() {\n        return new Blob([ this.source.buffer ], { type: 'video/webm' });\n    };\n\n    return function(blob, duration, callback) {\n        try {\n            var reader = new FileReader();\n            reader.onloadend = function() {\n                try {\n                    var file = new WebmFile(new Uint8Array(reader.result));\n                    if (file.fixDuration(duration)) {\n                        blob = file.toBlob();\n                    }\n                } catch (ex) {\n                    // ignore\n                }\n                callback(blob);\n            };\n            reader.readAsArrayBuffer(blob);\n        } catch (ex) {\n            callback(blob);\n        }\n    };\n});\n"],"sourceRoot":""}